define("App",["Calculator"],function(a){"use strict";return{start:function(){var b=new a;b.init()}}}),define("Calculator",["Model","View"],function(a,b){"use strict";var c=function(){};return c.prototype={init:function(){this.model=new a,this.view=new b;var c=this;this.view.setChangeListener(function(a){c.model.processClick(a)}),this.model.setChangeListener(function(a){c.view.draw(a)}),this.view.init(),this.model.init()}},c}),requirejs.config({baseUrl:"../scripts"}),requirejs(["App"],function(a){"use strict";a.start()}),define("Model",["Operators","Numbers"],function(a,b){"use strict";var c=function(){};return c.prototype={init:function(){},processClick:function(c){c in b&&this.setOperand(b[c]),c in a&&this.operate(a[c])},setChangeListener:function(a){this.changeListener=a},setOperand:function(a){void 0===this.operand1?(this.operand1=""+a,this.result=this.operand1):void 0===this.operand2&&void 0===this.operation?(this.operand1+=""+a,this.result=this.operand1):void 0!==this.operand1&&void 0===this.operand2?(this.operand2=""+a,this.result=this.operand2):void 0!==this.operand1&&void 0!==this.operand2&&(this.operand2+=""+a,this.result=this.operand2),this.changeListener(this.result)},operate:function(b){switch(b){case a.CE:this.init(),this.changeListener(this.result);break;case a.BACKSPACE:void 0!==this.operand2?(this.operand2=this.operand2.length>1?this.operand2.slice(0,-1):0,this.result=this.operand2):void 0!==this.operand1&&(this.operand1=this.operand1.length>1?this.operand1.slice(0,-1):0,this.result=this.operand1),this.changeListener(this.result);break;case a.EQUALS:this.operand1&&this.operand2&&this.operation&&(this.result=this.calculate(this.operand1,this.operand2,this.operation),this.operand1=void 0,this.operand2=void 0),this.changeListener(this.result),this.init();break;case a.SUBSTRACT:case a.MULTIPLY:case a.DIVIDE:case a.SUM:void 0!==this.operand1&&void 0!==this.operand2?(void 0!==this.operation?this.result=this.calculate(this.operand1,this.operand2,this.operation):this.result=this.calculate(this.operand1,this.operand2,b),this.operand1=this.result,this.operand2=void 0,this.operation=b):void 0!==this.operand1&&(this.operation=b),this.changeListener(this.result)}},calculate:function(b,c,d){switch(d){case a.SUM:return Number(b)+Number(c);case a.SUBSTRACT:return Number(b)-Number(c);case a.MULTIPLY:return Number(b)*Number(c);case a.DIVIDE:return+Number(b)/Number(c);default:throw"Unknown operator "+d}}},c}),define("Numbers",function(){"use strict";return{ZERO:0,ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,SIX:6,SEVEN:7,EIGHT:8,NINE:9}}),define("Operators",function(){"use strict";return{SUM:"+",SUBSTRACT:"-",MULTIPLY:"*",DIVIDE:"/",CE:"ce",EQUALS:"=",BACKSPACE:"backspace"}}),define("View",function(){"use strict";var a=function(){};return a.prototype={init:function(){var a=this;$(".calc_btn").bind("click",function(){a.changeListener($(this).attr("data-key").toUpperCase())}),$("#calc_result").val("0")},draw:function(a){$("#calc_result").val(a)},setChangeListener:function(a){this.changeListener=a}},a});