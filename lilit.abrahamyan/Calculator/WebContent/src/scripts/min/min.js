var com=com||{};com.synergy=com.synergy||{},com.synergy.jstraining=com.synergy.jstraining||{},com.synergy.jstraining.calculator=com.synergy.jstraining.calculator||{},com.synergy.jstraining.calculator.Calculator=function(){},com.synergy.jstraining.calculator.Calculator.prototype={init:function(a){var b=this;this.model=new com.synergy.jstraining.calculator.model.Model,this.model.init(),this.view=new com.synergy.jstraining.calculator.view.View,this.view.init(a),this.view.setChangeListener(function(a){b.model.recalculate(a)}),this.model.setChangeListener(function(a){b.view.redraw(a)})}};var com=com||{};com.synergy=com.synergy||{},com.synergy.jstraining=com.synergy.jstraining||{},com.synergy.jstraining.calculator=com.synergy.jstraining.calculator||{},com.synergy.jstraining.calculator.enums=com.synergy.jstraining.calculator.enums||{},com.synergy.jstraining.calculator.enums.Operations={PLUS:"+",DIVIDE:"/",MULTIPLY:"*",MINUS:"-",EQUALS:"=",CLEAR:"C"},com.synergy.jstraining.calculator.enums.Numbers={PLUS:"+",DIVIDE:"/",MULTIPLY:"*",MINUS:"-",EQUALS:"=",CLEAR:"C"};var com=com||{};com.synergy=com.synergy||{},com.synergy.jstraining=com.synergy.jstraining||{},com.synergy.jstraining.calculator=com.synergy.jstraining.calculator||{},com.synergy.jstraining.calculator.model=com.synergy.jstraining.calculator.model||{},com.synergy.jstraining.calculator.model.Model=function(){},com.synergy.jstraining.calculator.model.Model.prototype={init:function(){},setChangeListener:function(a){this.changeListener=a},recalculate:function(a){this.isOperation(a)?this.operatorEntered(a):this.numberEntered(a),this.changeListener(this.result)},isOperation:function(a){var b=com.synergy.jstraining.calculator.enums.Operations;for(var c in b)if(b[c]===a)return!0;return!1},operatorEntered:function(a){var b=com.synergy.jstraining.calculator.enums.Operations;switch(a){case b.EQUALS:this.operand1&&this.operand2&&this.operator?this.evaluate(this.operand1,this.operand2,this.operator):this.operand1&&this.operator?this.evaluate(this.operand1,this.operand1,this.operator):this.operand1&&(this.result=this.operand1);break;case b.CLEAR:this.resetCalculator();break;default:this.operand1&&this.operand2&&this.operator?(this.result=this.calculate(this.operand1,this.operand2,this.operator),this.operand1=this.result,this.operand2=null,this.operator=a):this.operand1&&(this.operator=a)}},resetCalculator:function(){this.operand1=null,this.operand2=null,this.operator=null,this.result=null},evaluate:function(a,b,c){this.result=this.calculate(a,b,c),this.operand1=this.result,this.operand2=null,this.operator=null},numberEntered:function(a){var b=+a;this.operand1&&this.operand2&&this.operator?(this.operand2=10*this.operand2+b,this.result=this.operand2):this.operand1&&this.operator?(this.operand2=b,this.result=this.operand2):this.operand1?(this.operand1=10*this.operand1+b,this.result=this.operand1):(this.operand1=b,this.result=this.operand1)},calculate:function(a,b,c){var d;switch(c){case"+":d=a+b;break;case"-":d=a-b;break;case"*":d=a*b;break;case"/":d=a/b;break;default:throw"Unsupported operation."}return d}};var com=com||{};com.synergy=com.synergy||{},com.synergy.jstraining=com.synergy.jstraining||{},com.synergy.jstraining.calculator=com.synergy.jstraining.calculator||{},com.synergy.jstraining.calculator.view=com.synergy.jstraining.calculator.view||{},com.synergy.jstraining.calculator.view.View=function(){},com.synergy.jstraining.calculator.view.View.prototype={init:function(a){this.container=a;var b=this;$(".col-sm-3",b.container).bind("click.calculator",function(){b.changeListener($(this).attr("data-key-value"))})},setChangeListener:function(a){this.changeListener=a},redraw:function(a){$("#result",this.container).val(a)}};